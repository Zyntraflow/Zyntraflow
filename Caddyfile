# Caddy reverse proxy for production HTTPS.
# DOMAIN must be provided via environment variable.
{$DOMAIN} {
  encode zstd gzip
  reverse_proxy web:3000

  header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-Content-Type-Options "nosniff"
    X-Frame-Options "DENY"
    Referrer-Policy "no-referrer"
  }
}
